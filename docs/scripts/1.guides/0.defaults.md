---
title: "Script Defaults"
description: "Load third-party scripts without compromising user privacy"
---

## Introduction


Nuxt Scripts does not insert script tags within the SSR response. This is a performance decision to minimise the interruptions
to the hydration process. Instead, scripts are loaded by default when Nuxt is fully hydrated on the client side.

You can change this behavior by modifying the [defaultScriptOptions](docs/api/nuxt-config#defaultscriptoptions).

Nuxt Scripts will also insert several extra tags to the script element to help with performance and privacy.

- `async` - Scripts are loaded asynchronously to prevent blocking the rendering of the page.
- `defer` - Scripts are deferred to ensure they are executed in the order they are loaded.
- `crossorigin="anonymous"` - Scripts are loaded with the `anonymous` attribute to prevent them from accessing cookies.
- `referrerpolicy="no-referrer"` - Scripts are loaded with the `no-referrer` policy to prevent them from sending the referrer header.

Third-party scripts collect user data. Do it ethically.

## Privacy Defaults

```ts
useScript('tracker.js', {
  // No referrer data sent
  referrerpolicy: 'no-referrer',
  
  // No credentials sent
  crossorigin: 'anonymous',
  
  // Load after consent
  trigger: hasConsent
})
```

## Common Scripts

### Google Analytics

```ts
useScript('gtag.js', {
  beforeInit() {
    window.dataLayer = window.dataLayer || []
    window.gtag = function() { dataLayer.push(arguments) }
    gtag('consent', 'default', {
      'analytics_storage': 'denied',
      'ad_storage': 'denied'
    })
  }
})
```

### Marketing Tags

```ts
useScript('tags.js', {
  // Clear params from URL
  src: cleanUrl('https://tags.example.com/tag.js'),
  // Don't send document.referrer
  referrerpolicy: 'no-referrer',
  // Don't send cookies
  crossorigin: 'anonymous',
})
```

## Script Permissions

Check what scripts can access:

- `document.referrer`: Previous page URL
- `navigator.userAgent`: Browser info
- `window.localStorage`: Stored data
- `document.cookie`: Cookies
- `navigator.geolocation`: Location

## Privacy Tools Impact

Scripts often break with:

- uBlock Origin
- Privacy Badger
- DuckDuckGo App
- Brave Browser

Handle it gracefully:

```ts
const script = useScript('tracker.js')
  .catch(error => {
    if (error.name === 'SecurityError') {
      // Privacy tool blocked script
      disableTracking()
    }
  })
```

## External Resources

- [Browser Fingerprinting](https://www.w3.org/2001/tag/doc/unsanctioned-tracking/)
- [GDPR Compliance](https://gdpr.eu/cookies/)
- [Privacy by Design](https://web.dev/articles/cookie-notice-best-practices)

## Next Steps

- [Load Triggers →](/unhead/scripts/load-triggers)
- [Handle Errors →](/unhead/scripts/load-failures)
- [Use Proxy API →](/unhead/scripts/proxy-api)
