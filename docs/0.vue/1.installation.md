---
title: Installing Unhead with Vue
description: Learn how to start using Unhead with Vue.
navigation:
  title: 'Installation'
---

## Introduction

Unhead has first-class support for Vue. In fact much of the code belongs to the original [@vueuse/head](https://github.com/vueuse/head) repo which was a Vue 3 version of [Vue Meta](https://github.com/nuxt/vue-meta).

Vue Unhead works both for CSR and SSR, and it's designed to be framework-agnostic, so you can use it with any Vue setup.

This guide assumes you're following a similar structure to the [vite-ssr-vue](https://github.com/bluwy/create-vite-extra/tree/master/template-ssr-vue) template  
or a SPA Vue setup.

::note
Using [Nuxt](https://nuxt.com/docs/getting-started/seo-meta)? Unhead is already integrated, and you can skip this guide.
::

### Demos

- [StackBlitz - Vite - Vue SPA](https://stackblitz.com/edit/vitejs-vite-uijgqa?file=package.json)

## Setup

### 1. Add Dependency

Install `@unhead/vue`{lang="bash"} dependency to your project:

:ModuleInstall{name="@unhead/vue"}

#### Using Vue 2

In Unhead v2, official support for Vue 2 has been dropped. If you're using Vue 2, you will need to install v1 of `@unhead/vue@^1`{lang="bash"} instead.

:ModuleInstall{name="@unhead/vue@^1"}

### 2. Setup Client-Side Rendering

To begin with, we'll be adding the Unhead Vue Plugin to our Vue app, but _only_ for the client Vue app entry. 

Typically, this entry file is named `entry-client.js`{lang="js"}. If you're not server-side rendering, you can add this to your main Vue app entry instead.

```ts [src/entry-client.js]
import { createHead } from '@unhead/vue/client'
import { createApp } from 'vue'

const app = createApp()
// Create a new unhead instance and attach to your Vue app
const head = createHead()
app.use(head)

app.mount('#app')
```

Make sure you're importing from `@unhead/vue/client`{lang="bash"}.

### 3. Setup Server-Side Rendering

::note
Serving your app as an SPA? You can skip this step.
::

Setting up server-side rendering is more complicated as it requires rendering out the tags to the HTML string before sending it to the client.

We'll start with setting up the plugin in the _server_ entry this time. Make sure to import from `@unhead/vue/server`{lang="bash"} instead.

```ts {1,8-10} [src/entry-server.ts]
import { createHead } from '@unhead/vue/server'
import { createApp } from './main'
import { renderToString } from 'vue/server-renderer'

export async function render(_url: string) {
  const { app } = createApp()
  
  const head = createHead()
  app.use(head)

  const ctx = {}
  const html = await renderToString(app, ctx)

  return { html }
}
```

Next we'll update our template `index.html`{lang="bash"} file. We'll be removing any head tags that should be dynamic
and replacing them with placeholders.

```html {1,3,5,7} [./index.html]
<!DOCTYPE html>
<html <!--htmlAttrs--> >
<head>
  <!--headTags-->
  <!--preload-links-->
</head>
<body <!--bodyAttrs--> >
  <!--bodyTagsOpen-->
  <div id="app"><!--app-html--></div>
  <script type="module" src="/src/entry-client.js"></script>
  <!--bodyTags-->
</body>
</html>
```

Now we need to render out the head tags _after_ vue has rendered the app and replace these
placeholders with the actual head tags.

To start with we need to modify the `render` function to return the template data.

```ts {1,14-15} [src/entry-server.ts]
import { createHead, renderSSRHead } from '@unhead/vue/server'
import { createApp } from './main'
import { renderToString } from 'vue/server-renderer'

export async function render(_url: string) {
  const { app } = createApp()
  
  const head = createHead()
  app.use(head)

  const ctx = {}
  const html = await renderToString(app, ctx)

  const templateData = await renderSSRHead(head)
  return [html, templateData]
}
```

Within your `server.ts` file or wherever you're handling the template logic, you need to swap out your template
placeholders for the generated head tags.

```ts {8-13} [server.ts]
export async function createServer(
  root = process.cwd(),
  isProd = process.env.NODE_ENV === 'production',
  hmrPort,
) {
  app.use('*', async (req, res) => {
    // ...
    const [appHtml, templateData] = await render(url, manifest)
    // replace placeholders
    let html = template.replace('<!--app-html-->', appHtml)
    Object.entries(templateData).forEach(([key, value]) => {
      html = html.replace(`<!--${key}-->`{lang="html"}, value)
    })
    // ...
  })

  return { app, vite }
}
```

### 4. Your First Tags

Done! Your app should now be rendering head tags on the server and client.

If you'd like to add any default tags to your app, doing so in your server entry means you won't add any weight
to your client bundle.

```ts {2,9-12} [src/entry-server.ts]
import { createHead, renderSSRHead } from '@unhead/vue/server'
import { useSeoMeta } from '@unhead/vue'
import { createApp } from './main'
import { renderToString } from 'vue/server-renderer'

export async function render(_url: string) {
  // ...
  const head = createHead()
  useSeoMeta({
    title: 'My Awesome Site',
    description: 'My awesome site description',
  }, { head })
  app.use(head)
  // ...
}
```

You'll notice we're passing the `head` instance here, this is because we're outside the Vue app context.

For all other tags, simply use any of the composables within your script setup block.

```vue
<script setup lang="ts">
import { useHead } from '@unhead/vue'

useHead({
  bodyAttrs: {
    style: 'background: salmon; color: cyan;'
  },
})
</script>
```

### 5. Optional: Auto-Imports

If you're using  [unplugin-auto-import](https://github.com/antfu/unplugin-auto-import), you can automatically import the composables.

```ts [vite.config.ts]
import { unheadVueComposablesImports } from '@unhead/vue'

export default defineConfig({
  plugins: [
    AutoImport({
      imports: [
        unheadVueComposablesImports,
      ],
    }),
  ]
})
```

## Next Steps

Your Vue app is now setup for head management, congrats! ðŸŽ‰

You can get started with any of the composables:
- [`useHead()`{lang="ts"}](/docs/api/use-head)
- [`useSeoMeta()`{lang="ts"}](/docs/api/use-seo-meta)

Or explore some of the optional extras:

- Add support for the [Options API](/docs/vue/guides/options-api)
- Setup a [`<Head>`{lang="html"} component](/docs/vue/guides/components)
- Add [`useSchemaOrg()`{lang="ts"}](/docs/api/use-schema-org) for structured data
- Use [`useScript()`{lang="ts"}](/docs/scripts/introduction) for performance optimized script loading
