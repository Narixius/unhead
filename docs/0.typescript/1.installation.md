---
title: 'Install Unhead on TypeScript Projects'
description: 'Get started with Unhead by installing the dependency to your project.'
navigation:
  title: 'Installation'
---

## Introduction

Unhead is built for JavaScript applications that need to manage the head of their document in both server and client-rendered environments.

This guide is for installing Unhead with just TypeScript and no framework. Using a JavaScript framework? Select your framework below or continue with the TypeScript setup below.

:FrameworkSelector

Installation is split into two parts:

- Client-side rendering (CSR)
- Server-side rendering (SSR)
- Composables

## 1. Install Dependency

:ModuleInstall{name="unhead"}

## 2. Setup Client-Side Rendering

Create a client Unhead instance somewhere in your apps client entry.

```ts [main.ts]
import { createHead } from 'unhead/client'
import { createApp } from './app'

// Create a global head instance
const app = createApp()
const head = createHead()
// attach unhead to your app lifecycle
app.use(head)
```

It's important you only create one head instance per app, you should tie the head instance to your app lifecycle in some way.

## 3. Setup Server-Side Rendering (optional)

::note
If you app does not SSR, you can skip this step. Unhead works fine as a CSR only library, however you won't get
the SEO benefits.
::

Somewhere in your server entry, create a server head instance.

```ts [main.ts]
import { createHead } from 'unhead/server'

// Create a global head instance
const head = createHead()
```

Once you're ready to start displaying tags on the server, you'll need to generate the SSR payload.

```ts
import { renderSSRHead } from 'unhead/server'

// head is from createHead()
const payload = await renderSSRHead(head)
```

The payload schema looks like the following:

```ts
export interface SSRHeadPayload {
  headTags: string
  bodyTags: string
  bodyTagsOpen: string
  htmlAttrs: string
  bodyAttrs: string
}
```

You will need to update your app template to add in the templates for
the SSR tags.

Different frameworks differ in how they handle this template.

**Simple string replace**

```html
<!DOCTYPE html>
<html<!--htmlAttrs-->>
  <head>
    <!--headTags-->
    <!--preload-links-->
  </head>
  <body<!--bodyAttrs-->>
    <!--bodyTagsOpen-->
    <div id="app"><!--app-html--></div>
    <script type="module" src="/src/entry-client.js"></script>
    <!--bodyTags-->
  </body>
</html>
```

To handle this type of template you can use this code

```ts
const headPayload = await renderSSRHead(head)

Object.entries(headPayload).forEach(([key, value]) => {
  html = html.replace(`<!--${key}-->`{lang="html"}, value)
})
```

## 4. Setup Composables

The core Unhead library does not provide any tools to manage the context. To make use of the `useHead()`{lang="ts"} composables
you're required to pass the context as the first argument.

```ts
import { useHead } from 'unhead'

const head = app.head
// ‚ùå using the built-in composables requires passing the head instance - not ideal
useHead(head, {
  title: 'My Page',
  meta: [
    {
      name: 'description',
      content: 'My page description',
    },
  ],
})
```

This isn't a great DX, to improve this it's recommended you wrap the composables in a function that sets the context.

```ts
import { useHead as baseUseHead } from 'unhead'

export function useHead(input) {
  const { head } = useMyAppContext()
  return baseUseHead(head, input)
}
```

::tip
Not sure how to setup the context? Check out [unctx](https://github.com/unjs/unctx) for a simple context management solution.
::

## 5. Done! How hydration works

When your client-side app hydrates the server head tags, it will attempt to hydrate each
element based on the nodes being equal `$el.isEqualNode($newEl)` or them sharing the same
dedupe key (see [Tag Deduping](/usage/guides/handling-duplicates)).

If you're rendering content that differs between client and server, you should
specify a `key` attribute if the element does not have a unique dedupe key.

```ts
useHead({
  script: [
    {
      // key is needed to avoid seperate scripts being created
      key: 'my-script',
      innerHTML: process.server ? '' : 'console.log("hello world")',
    }
  ]
})
```

### Next Steps

Your app is now setup for head management, congrats! üéâ

Try next:

1. Add some [recipes](/addons/recipes)
2. Consider using the [Vite plugin](/addons/vite-plugin)
